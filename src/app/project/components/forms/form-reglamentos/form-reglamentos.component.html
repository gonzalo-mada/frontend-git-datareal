<div class="grid" *ngIf="modeForm !== 'show'">
    <div class="col-12">
        <app-form-isvalid [valid]="fbForm.valid"></app-form-isvalid>
    </div>
</div>
<form [formGroup]="fbForm">
    <div class="formgrid grid">
        <div class="col-12 lg:col-9">
            <div class="field">
                <label><strong>Nombre {{ modeForm !== 'show' ? '*' : '' }}</strong></label>
                <input type="text" pInputText formControlName="Descripcion_regla" maxlength="50"
                    class="w-full" placeholder="Ingrese nombre de reglamento de programa" />

                <app-form-control [control]="fbForm.controls['Descripcion_regla']"
                    [validators]="['required', 'num_y_letras']"></app-form-control>
            </div>
        </div>
        <div class="col-12 lg:col-3">
            <div class="flex flex-wrap justify-content-start lg:justify-content-center align-items-center">
                <div class="field">
                    <label for="Estado"><strong>¿Está vigente?</strong></label>
                    <br>
                    <div class="flex flex-row flex-wrap">
                        <div class="flex align-items-center justify-content-center">
                            <span>No</span>
                        </div>
                        <div class="flex align-items-center justify-content-center mx-2">
                            <p-inputSwitch formControlName="vigencia" styleClass="mt-1"></p-inputSwitch>
                        </div>
                        <div class="flex align-items-center justify-content-center">
                            <span>Si</span>
                            <app-form-control [control]="fbForm.controls['vigencia']"
                                [validators]="['required']"></app-form-control>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="formgrid grid">
        <div class="field col-12 md:col-4">
            <div class="flex flex-wrap">
                <div class="w-full">
                    <div class="mb-2">
                        <label><strong>Año {{ modeForm !== 'show' ? '*' : '' }}</strong></label>
                    </div>
                </div>
                <ng-container *ngIf="modeForm !== 'show' ">
                    <p-calendar 
                        formControlName="anio" 
                        placeholder="Seleccione año" 
                        view="year" 
                        dateFormat="yy" 
                        [maxDate]="maxDate"
                        dataType="string"
                    >
                    </p-calendar>
                    <app-form-control [control]="fbForm.controls['anio']" [validators]="['required']"></app-form-control>
                </ng-container>
                <ng-container *ngIf="modeForm == 'show'">
                    <input pInputText type="text" class="w-full mt-1" value="{{ reglamento.anio  }}" disabled />
                </ng-container>
            </div>
        </div>
    </div>
    <div class="grid" *ngIf="visibleUploader">
        <div class="col-12 ">
            <div class="mb-2">
                <label>
                    <strong>
                      {{ modeForm !== 'show' ? 'Adjunte documento(s) *' : 'Documento(s) adjunto(s)' }}
                    </strong>
                  </label>                                  
            </div>
            <app-uploader-files [mode]="modeForm!"></app-uploader-files>
        </div>
    </div>
</form>