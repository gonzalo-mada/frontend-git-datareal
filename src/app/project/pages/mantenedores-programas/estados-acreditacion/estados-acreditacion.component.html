<p-toast [key]="keyPopups"></p-toast>
<p-confirmDialog [key]="keyPopups" [style]="{ width: '500px' }"></p-confirmDialog>

<div class="grid">
    <div class="col-12">
        <app-card header="Mantenedor de {{ namesCrud.plural }}"
            subheader="Permite ver, crear, actualizar y eliminar {{ namesCrud.plural }}.">
            
            <app-menu-buttons-table></app-menu-buttons-table>

            <app-table-estados-acreditacion [data]="estadosAcreditacion"></app-table-estados-acreditacion>

            <app-dialog [dialogWidth]="'75vw'" [(visible)]="dialog">
                <div header>
                    <ng-container [ngSwitch]="modeCrud">
                        <ng-container *ngSwitchCase="'create'"><span class="text-xl">Agregar {{ namesCrud.singular }}</span></ng-container>
                        <ng-container *ngSwitchCase="'edit'"><span class="text-xl">Actualizar {{ namesCrud.singular }}</span></ng-container>
                        <ng-container *ngSwitchCase="'show'"><span class="text-xl">Ver {{ namesCrud.singular }}</span></ng-container>
                    </ng-container>
                </div>
                <div content>
                    <app-form-estados-acreditacion></app-form-estados-acreditacion>
                </div>
                <div footer>
                    <p-button label="Cerrar" icon="pi pi-times" styleClass="p-button-sm p-button-secondary mr-2"
                        (click)="dialog = false" [text]="true"></p-button>

                    <p-button 
                        *ngIf="modeCrud == 'create' || modeCrud == 'edit' "
                        [label]="modeCrud === 'edit' ? 'Actualizar' : 'Guardar'" 
                        icon="pi pi-check"
                        styleClass="mr-2 p-button-success p-button-sm" 
                        [disabled]="estadosAcreditacionService.stateForm === 'INVALID' "
                        (click)="submit()">
                    </p-button>
                </div>
            </app-dialog>
        </app-card>
    </div>
</div>
