<p-toast [key]="keyPopups"></p-toast>
<p-confirmDialog [key]="keyPopups" [style]="{ width: '500px' }"></p-confirmDialog>

<div class="grid">
    <div class="col-12">
        <app-card header="Mantenedor de categorías de tipos de programas" subheader="Permite ver, crear, actualizar y eliminar categorías de tipos de programas.">
            <app-menu-buttons-table></app-menu-buttons-table>

            <app-table-categorias-tp [data]="categoriasTp"></app-table-categorias-tp>

            <app-dialog [(visible)]="dialog">
                <div header>
                    <ng-container *ngIf="modeForm === 'create' || modeForm === 'insert' ">
                        <span class="text-xl">Agregar {{ namesCrud.singular }}</span>
                    </ng-container>
                    <ng-container *ngIf="modeForm === 'edit' || modeForm === 'update' ">
                        <span class="text-xl">Actualizar {{ namesCrud.singular }}</span>
                    </ng-container>
                    <ng-container *ngIf="modeForm === 'show'">
                        <span class="text-xl">Ver {{ namesCrud.singular }}</span>
                    </ng-container>
                </div>
                <div content>
                    <app-form-categorias-tp></app-form-categorias-tp>
                </div>
                <div footer>
                    <p-button label="Cerrar" icon="pi pi-times" styleClass="p-button-sm p-button-secondary mr-2" (click)="dialog = false" [text]="true"></p-button>

                    <p-button 
                        *ngIf="modeForm == 'create' ||  modeForm == 'edit' "
                        [label]="modeForm === 'edit' ? 'Actualizar' : 'Guardar'" 
                        icon="pi pi-check"
                        styleClass="mr-2 p-button-success p-button-sm" 
                        [disabled]="categoriasTpService.stateForm === 'INVALID' "
                        (click)="submit()">
                    </p-button>
                </div>
            </app-dialog>
        </app-card>
    </div>
</div>